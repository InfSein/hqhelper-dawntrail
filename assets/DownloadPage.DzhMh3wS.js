import{i as M,b5 as S,_ as L,j as Y,av as q,b6 as F,au as U,at as X,b7 as T,f as j}from"./index.DIpgTaJR.js";import{aC as k,aD as z}from"./icons._F9tMcs6.js";import{d as H,r as R,f as G,e as f,k as Q,c as p,U as _,R as s,o as d,F as h,Y as w,a as n,V as o,Q as e,P as C,n as B}from"./vendor.DOOPojup.js";const W={id:"main-container"},J={class:"card-title-text"},K={class:"intro"},Z=["innerHTML"],$={class:"card-title-text"},tt={class:"content-block"},nt={key:0,class:"spin-container"},et={key:1,class:"flex-col gap-4"},ot={class:"download-btn-container"},at={class:"card-title-text"},lt={class:"content-block"},st={key:0,class:"spin-container"},it={key:1,class:"flex-col gap-4"},ct={class:"download-btn-container"},dt={class:"card-title-text"},_t={class:"content-block"},pt={class:"card-title-text"},rt={class:"content-block"},ut=H({__name:"DownloadPage",setup(xt){const E=M(),t=Q("t"),g=R(!1),m=R(void 0);G(async()=>{g.value=!0;const a=await S();a.success?m.value=a.data:E.error(a.message),g.value=!1});const V=f(()=>[{title:t("download_page.text.text_1")+"<br>"+t("download_page.text.text_2"),contents:[]},{title:t("download_page.text.text_3"),contents:[t("download_page.text.text_4"),t("download_page.text.text_5")]},{title:t("common.special_notice"),contents:[t("download_page.text.text_6"),t("download_page.text.text_7")]}]),N=f(()=>{const a=m.value;if(!a)return[];const l=a.dlink_electron.replace("~VERSION",a.electron);let r=1;const c=[{icon:k,text:t("download_page.link.cn_with_index",r++),type:"primary",link:l.replace("~PROXY",a.client_info.recomm_proxy),ghost:!1}];return a.client_info.cn_sub_links.forEach(u=>{c.push({icon:k,text:t("download_page.link.cn_with_index",r++),type:"primary",link:u,ghost:!0})}),c.push({icon:z,text:t("download_page.link.global"),type:"info",link:l.replace("~PROXY",""),ghost:!1}),c}),O=f(()=>{const a=m.value;if(!a)return[];const l=a.dlink_electron_mac.replace("~VERSION",a.electron);let r=1;const c=[{icon:k,text:t("download_page.link.cn_with_index",r++),type:"primary",link:l.replace("~PROXY",a.client_info.recomm_proxy),ghost:!1}];return a.client_info.mac_cn_sub_links.forEach(u=>{c.push({icon:k,text:t("download_page.link.cn_with_index",r++),type:"primary",link:u,ghost:!0})}),c.push({icon:z,text:t("download_page.link.global"),type:"info",link:l.replace("~PROXY",""),ghost:!1}),c}),y=a=>{window.open(a,"_blank")};return(a,l)=>{const r=q,c=L,u=F,v=U,b=X,P=T,A=Y;return d(),p("div",W,[_(c,{"card-key":"download-intro"},{header:s(()=>[l[0]||(l[0]=n("i",{class:"xiv help"},null,-1)),n("span",J,o(e(t)("common.brief_intro")),1)]),default:s(()=>[(d(!0),p(h,null,w(e(V),(i,x)=>(d(),p("div",{key:"intro-"+x,class:"content-block"},[n("div",K,[n("p",{class:"title",innerHTML:i.title},null,8,Z),n("ul",null,[(d(!0),p(h,null,w(i.contents,(D,I)=>(d(),p("li",{key:x+"-content-"+I},o(D),1))),128))]),_(r,{style:{margin:"1px 5px 3px"}})])]))),128))]),_:1}),_(c,{"card-key":"download-windows"},{header:s(()=>[l[1]||(l[1]=n("i",{class:"xiv square-1"},null,-1)),n("span",$,o(e(t)("download_page.text.text_11","Windows")),1)]),default:s(()=>[n("div",tt,[e(g)?(d(),p("div",nt,[_(u,{size:"small"}),n("div",null,o(e(t)("common.loading")),1)])):(d(),p("div",et,[n("p",null,o(e(t)("download_page.text.text_8",e(m)?.electron)),1),n("p",null,o(e(t)("download_page.text.text_9")),1),n("div",ot,[(d(!0),p(h,null,w(e(N),(i,x)=>(d(),C(b,{key:"win-app-btn-"+x,size:"small",type:i.type,ghost:i.ghost,onClick:()=>y(i.link)},{icon:s(()=>[_(v,{size:16,component:i.icon},null,8,["component"])]),default:s(()=>[B(" "+o(i.text),1)]),_:2},1032,["type","ghost","onClick"]))),128))]),n("p",null,o(e(t)("download_page.text.text_10")),1)]))])]),_:1}),_(c,{"card-key":"download-mac"},{header:s(()=>[l[2]||(l[2]=n("i",{class:"xiv square-2"},null,-1)),n("span",at,o(e(t)("download_page.text.text_11","Mac")),1)]),default:s(()=>[n("div",lt,[e(g)?(d(),p("div",st,[_(u,{size:"small"}),n("div",null,o(e(t)("common.loading")),1)])):(d(),p("div",it,[n("p",null,o(e(t)("download_page.text.text_8",e(m)?.electron)),1),n("p",null,o(e(t)("download_page.text.text_9")),1),n("div",ct,[(d(!0),p(h,null,w(e(O),(i,x)=>(d(),C(b,{key:"mac-app-btn-"+x,size:"small",type:i.type,ghost:i.ghost,onClick:()=>y(i.link)},{icon:s(()=>[_(v,{size:16,component:i.icon},null,8,["component"])]),default:s(()=>[B(" "+o(i.text),1)]),_:2},1032,["type","ghost","onClick"]))),128))]),n("p",null,o(e(t)("download_page.text.text_12")),1),n("p",null,o(e(t)("download_page.text.text_13")),1),_(P,{type:"info",title:e(t)("common.tip"),style:{width:"fit-content","margin-top":"8px"}},{default:s(()=>[n("p",null,o(e(t)("download_page.text.text_14")),1),n("p",null,o(e(t)("download_page.text.text_15")),1),n("p",null,[n("span",null,o(e(t)("common.please_refer_to")),1),l[3]||(l[3]=n("a",{target:"_blank",href:"https://zhuanlan.zhihu.com/p/135948430"},"https://zhuanlan.zhihu.com/p/135948430",-1))])]),_:1},8,["title"])]))])]),_:1}),_(c,{"card-key":"download-ios"},{header:s(()=>[l[4]||(l[4]=n("i",{class:"xiv square-3"},null,-1)),n("span",dt,o(e(t)("download_page.text.text_11","iOS")),1)]),default:s(()=>[n("div",_t,o(e(t)("common.not_planned")),1)]),_:1}),_(c,{"card-key":"download-android"},{header:s(()=>[l[5]||(l[5]=n("i",{class:"xiv square-4"},null,-1)),n("span",pt,o(e(t)("download_page.text.text_11","Android")),1)]),default:s(()=>[n("div",rt,o(e(t)("common.developing")),1)]),_:1}),_(A)])}}}),ht=j(ut,[["__scopeId","data-v-0ce8865a"]]);export{ht as default};
