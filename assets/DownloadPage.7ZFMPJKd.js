import{h as I,b3 as M,F as g,i as F,au as L,b4 as Y,at as q,as as U,b5 as X,e as T}from"./index.Cask5RuP.js";import{aD as h,aE as z}from"./icons.BPYJy1hK.js";import{d as H,r as R,f as j,e as y,k as G,c as _,S as d,R as s,o as c,F as w,Y as f,a as e,U as o,Q as n,P as E,n as B}from"./vendor.Bn-7_sVg.js";const Q={id:"main-container"},W={class:"card-title-text"},J={class:"intro"},K=["innerHTML"],Z={class:"card-title-text"},$={class:"content-block"},tt={key:0,class:"spin-container"},et={key:1,class:"flex-col gap-4"},nt={class:"download-btn-container"},ot={class:"card-title-text"},at={class:"content-block"},lt={key:0,class:"spin-container"},st={key:1,class:"flex-col gap-4"},it={class:"download-btn-container"},ct={class:"card-title-text"},dt={class:"content-block"},_t={class:"card-title-text"},pt={class:"content-block"},rt=H({__name:"DownloadPage",setup(ut){const C=I(),t=G("t"),k=R(!1),m=R(void 0);j(async()=>{k.value=!0;const a=await M();a.success?m.value=a.data:C.error(a.message),k.value=!1});const N=y(()=>[{title:t("download_page.text.text_1")+"<br>"+t("download_page.text.text_2"),contents:[]},{title:t("download_page.text.text_3"),contents:[t("download_page.text.text_4"),t("download_page.text.text_5")]},{title:t("common.special_notice"),contents:[t("download_page.text.text_6"),t("download_page.text.text_7")]}]),O=y(()=>{const a=m.value;if(!a)return[];const l=a.dlink_electron.replace("~VERSION",a.electron);let r=1;const p=[{icon:h,text:t("download_page.link.cn_with_index",r++),type:"primary",link:l.replace("~PROXY",a.client_info.recomm_proxy),ghost:!1}];return a.client_info.cn_sub_links.forEach(u=>{p.push({icon:h,text:t("download_page.link.cn_with_index",r++),type:"primary",link:u,ghost:!0})}),p.push({icon:z,text:t("download_page.link.global"),type:"info",link:l.replace("~PROXY",""),ghost:!1}),p}),P=y(()=>{const a=m.value;if(!a)return[];const l=a.dlink_electron_mac.replace("~VERSION",a.electron);let r=1;const p=[{icon:h,text:t("download_page.link.cn_with_index",r++),type:"primary",link:l.replace("~PROXY",a.client_info.recomm_proxy),ghost:!1}];return a.client_info.mac_cn_sub_links.forEach(u=>{p.push({icon:h,text:t("download_page.link.cn_with_index",r++),type:"primary",link:u,ghost:!0})}),p.push({icon:z,text:t("download_page.link.global"),type:"info",link:l.replace("~PROXY",""),ghost:!1}),p}),v=a=>{window.open(a,"_blank")};return(a,l)=>{const r=L,p=Y,u=q,b=U,S=X,V=F;return c(),_("div",Q,[d(g,{"card-key":"download-intro"},{header:s(()=>[l[0]||(l[0]=e("i",{class:"xiv help"},null,-1)),e("span",W,o(n(t)("common.brief_intro")),1)]),default:s(()=>[(c(!0),_(w,null,f(n(N),(i,x)=>(c(),_("div",{key:"intro-"+x,class:"content-block"},[e("div",J,[e("p",{class:"title",innerHTML:i.title},null,8,K),e("ul",null,[(c(!0),_(w,null,f(i.contents,(A,D)=>(c(),_("li",{key:x+"-content-"+D},o(A),1))),128))]),d(r,{style:{margin:"1px 5px 3px 5px"}})])]))),128))]),_:1}),d(g,{"card-key":"download-windows"},{header:s(()=>[l[1]||(l[1]=e("i",{class:"xiv square-1"},null,-1)),e("span",Z,o(n(t)("download_page.text.text_11","Windows")),1)]),default:s(()=>[e("div",$,[n(k)?(c(),_("div",tt,[d(p,{size:"small"}),e("div",null,o(n(t)("common.loading")),1)])):(c(),_("div",et,[e("p",null,o(n(t)("download_page.text.text_8",n(m)?.electron)),1),e("p",null,o(n(t)("download_page.text.text_9")),1),e("div",nt,[(c(!0),_(w,null,f(n(O),(i,x)=>(c(),E(b,{key:"win-app-btn-"+x,size:"small",type:i.type,ghost:i.ghost,onClick:()=>v(i.link)},{icon:s(()=>[d(u,{size:16,component:i.icon},null,8,["component"])]),default:s(()=>[B(" "+o(i.text),1)]),_:2},1032,["type","ghost","onClick"]))),128))]),e("p",null,o(n(t)("download_page.text.text_10")),1)]))])]),_:1}),d(g,{"card-key":"download-mac"},{header:s(()=>[l[2]||(l[2]=e("i",{class:"xiv square-2"},null,-1)),e("span",ot,o(n(t)("download_page.text.text_11","Mac")),1)]),default:s(()=>[e("div",at,[n(k)?(c(),_("div",lt,[d(p,{size:"small"}),e("div",null,o(n(t)("common.loading")),1)])):(c(),_("div",st,[e("p",null,o(n(t)("download_page.text.text_8",n(m)?.electron)),1),e("p",null,o(n(t)("download_page.text.text_9")),1),e("div",it,[(c(!0),_(w,null,f(n(P),(i,x)=>(c(),E(b,{key:"mac-app-btn-"+x,size:"small",type:i.type,ghost:i.ghost,onClick:()=>v(i.link)},{icon:s(()=>[d(u,{size:16,component:i.icon},null,8,["component"])]),default:s(()=>[B(" "+o(i.text),1)]),_:2},1032,["type","ghost","onClick"]))),128))]),e("p",null,o(n(t)("download_page.text.text_12")),1),e("p",null,o(n(t)("download_page.text.text_13")),1),d(S,{type:"info",title:n(t)("common.tip"),style:{width:"fit-content","margin-top":"8px"}},{default:s(()=>[e("p",null,o(n(t)("download_page.text.text_14")),1),e("p",null,o(n(t)("download_page.text.text_15")),1),e("p",null,[e("span",null,o(n(t)("common.please_refer_to")),1),l[3]||(l[3]=e("a",{target:"_blank",href:"https://zhuanlan.zhihu.com/p/135948430"},"https://zhuanlan.zhihu.com/p/135948430",-1))])]),_:1},8,["title"])]))])]),_:1}),d(g,{"card-key":"download-ios"},{header:s(()=>[l[4]||(l[4]=e("i",{class:"xiv square-3"},null,-1)),e("span",ct,o(n(t)("download_page.text.text_11","iOS")),1)]),default:s(()=>[e("div",dt,o(n(t)("common.not_planned")),1)]),_:1}),d(g,{"card-key":"download-android"},{header:s(()=>[l[5]||(l[5]=e("i",{class:"xiv square-4"},null,-1)),e("span",_t,o(n(t)("download_page.text.text_11","Android")),1)]),default:s(()=>[e("div",pt,o(n(t)("common.developing")),1)]),_:1}),d(V)])}}}),kt=T(rt,[["__scopeId","data-v-9ba567c0"]]);export{kt as default};
