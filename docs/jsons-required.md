# 需要的JSON文件

## 目录结构

一个版本一组JSON

```
--- src/assets/data
|--- recipes
||--- 7.0-gears.json
||--- 7.0-recipes.json
||--- 7.0-items.json
||--- 7.1-gears.json
||--- ...
```

## 数据格式

### 部件映射表 `gears.json`

此表作用是把前端输出的GearSelections转换为成品道具ID
例如选择了`DK主手*3`，会转换为`37001*3`(此处假定37001是DK主手的道具ID)

```json
{
  // * 这个版本是否已经可用（更新过数据）
  "available": false,
  // * 先依次填写各职业的装备信息
  "jobs": {
    "19": { // 职业ID，与xiv-jobs内的职业ID对应
      "name": "Knight",       // 职业名称，应当用不到，但为了便于阅读和维护而记录
      // 各装备的值为0代表这个职业这个版本没有这个部件的新HQ
      "mainHand": 37000,      // 主手装备ID
      "offHand": 37001,       // 副手装备ID
      // 合并主副手的场景可以把装备箱id填到主手上、副手填0
      "attire": "fending",    // 防具类型，关联到下方防具组内
      "accessory": "fending", // 首饰类型，关联到下方首饰组内
    },
    "21": {}, // 其他职业，格式一致
  }
  // * 然后去统一填写防具和首饰
  "attires": {
    // 依次代表：头部防具、身体防具、手部防具、腿部防具、脚部防具
    "fending": [37002, 37003, 37004, 37005, 37006], // 防具ID列表
    ... // 其他防具类型
  },
  "accessories": {
    // 依次代表：耳坠、项链、手镯、戒指
    "fending": [37007, 37008, 37009, 37010], // 首饰ID列表
    "crafting": [0, 0, 0, 0] // 为0代表这个职业这个版本没有这个部件的新HQ
  },
  // * 食物和爆发药
  // 都按照成品ID从小到大排序即可
  "foods": [38001, 38002, 38003, 38004, 38005, 38006, 38007, 38008, 38009],
  "tinctures": [38010, 38011, 38012, 38013, 38014]
}
```

### 配方表 `recipes.json`

此表作用是把成品道具ID转换为实际的配方
以成品道具ID为主键，只记录配方的直接素材
需要涉及此版本有关的所有成品，以及遍历获取成品所需的半成品的配方
下表以`8级刚力之幻药`举例

```json
{
  // * 以成品道具ID为主键
  "39727": { // 8级刚力之幻药
    "39716": 1, // 炼金用纯水 * 1
    "36227": 1, // 5级刚力之幻水 * 1
    "38936": 1  // 地鸣灵砂 * 1
  },
  "36227": { // 5级刚力之幻水
    "27782": 2, // 地下天然水 * 2
    "36258": 1, // 月面仙人刺的花 * 1
    "27779": 1  // 甜香荠 * 1
  },
}
```

### 物品表 `items.json`

此表是道具信息的数据
以成品道具ID为主键
需要涉及此版本有关的所有成品、半成品、素材等
此外还需要所有碎晶/水晶/晶簇的信息，无论是否有用到

```json
{
  "39727": { // 8级刚力之幻药
    "name_zh": "8级刚力之幻药",
    "name_en": "Grade 8 Tincture of Strength",
    "name_ja": "剛力の幻薬G8",
    "patch": "6.4", // 实装版本
    ... // 还有一些其他属性，不知道啥格式，可以直接按5p.nbbjack.com的道具信息给过来
  }
}
```